import{aA as T,r as i,N as C,A as o,a1 as N,t as U,z as e,B as r,x as B,P as _,ah as d,l as h,a6 as S,V as A,W as L,ae as P,T as R,a0 as z,ap as H,a3 as O}from"./B5peZbYZ.js";import{_ as Z}from"./Deh5vfQ6.js";import{_ as $}from"./Dn0uzmUw.js";const E={class:"flex items-center h-full w-full"},F={__name:"index",setup(J){const{backendUrl:f}=H(),w=T(),{registerUser:V}=w,{openToast:m}=O(),t=i(""),s=i(""),u=i(""),g=async()=>{try{const a=await V(t.value,s.value,u.value);if(a.error){m(a.error,"danger");return}const l=a.localId;await fetch(`${f}/users/add-user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{uid:l,email:t.value.toLowerCase()}})}),m("Zarejestrowano pomyślnie"),h("/login")}catch(a){console.log(a)}};return(a,l)=>{const x=S,b=A,v=L,c=Z,y=P,p=R,I=$,j=z,k=N;return U(),C(k,null,{default:o(()=>[e(v,null,{default:o(()=>[e(b,null,{default:o(()=>[e(x,null,{default:o(()=>[r("Rejestracja")]),_:1})]),_:1})]),_:1}),e(j,{fullscreen:!0},{default:o(()=>[B("div",E,[e(I,{class:"p-8 w-full"},{title:o(()=>[r(" Rejestracja ")]),default:o(()=>[e(y,null,{default:o(()=>[e(c,{class:"w-full",label:"Email",type:"email",modelValue:_(t),"onUpdate:modelValue":l[0]||(l[0]=n=>d(t)?t.value=n:null)},null,8,["modelValue"]),e(c,{class:"w-full",label:"Hasło",type:"password",modelValue:_(s),"onUpdate:modelValue":l[1]||(l[1]=n=>d(s)?s.value=n:null)},null,8,["modelValue"]),e(c,{class:"w-full",label:"Nazwa",type:"text",modelValue:_(u),"onUpdate:modelValue":l[2]||(l[2]=n=>d(u)?u.value=n:null)},null,8,["modelValue"])]),_:1}),e(p,{class:"w-full mt-4",expand:"block",onClick:g},{default:o(()=>[r("Zarejestruj")]),_:1}),e(p,{class:"w-full mt-4",expand:"block",fill:"outline","router-link":"/login"},{default:o(()=>[r("Logowanie")]),_:1})]),_:1})])]),_:1})]),_:1})}}};export{F as default};
