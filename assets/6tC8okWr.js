import{u as B,aq as C,M as h,r as _,i as R,N as d,A as e,aD as j,a1 as A,t as p,z as n,B as f,P as u,ag as D,Q as P,v as q,a5 as E,V as F,W as H,X as O,Y as Q,T as U,a0 as W}from"./4SDWm5CT.js";import{_ as X}from"./BAiSJCV0.js";const Y={key:2,class:"flex justify-center"},K={__name:"index",setup($){j();const I=B(),v=C(),{editShoppingList:k,leaveList:g}=v,{currentShoppingList:l}=h(v),w=_(),m=R(()=>localStorage.getItem("uid")!==l.value.ownerId),s=_(m.value?[]:l.value.members),i=_(m.value?[]:l.value.membersIds),r=_(l.value.name),y=async()=>{await k(r.value,s.value,i.value),I.back()},x=a=>{s.value.find(o=>o.id===a.id)?(s.value=s.value.filter(o=>o.id!==a.uid),i.value=i.value.filter(o=>o!==a.uid)):(s.value.push(a),i.value.push(a.uid))};return(a,t)=>{const o=E,M=F,L=H,S=O,V=Q,z=X,b=U,N=W,T=A;return p(),d(T,null,{default:e(()=>[n(L,null,{default:e(()=>[n(M,null,{default:e(()=>[n(o,null,{default:e(()=>[f("Listy zakupowe")]),_:1})]),_:1})]),_:1}),n(N,{fullscreen:!0},{default:e(()=>[u(l)?(p(),d(V,{key:0,class:"mb-4"},{default:e(()=>[n(S,{label:"Nazwa listy zakupowej","label-placement":"floating",ref_key:"input",ref:w,type:"text",modelValue:u(r),"onUpdate:modelValue":t[0]||(t[0]=c=>D(r)?r.value=c:null)},null,8,["modelValue"])]),_:1})):P("",!0),u(m)?(p(),q("div",Y,[n(b,{expand:"block",class:"w-1/2",size:"small",onClick:t[2]||(t[2]=c=>u(g)())},{default:e(()=>[f(" Opuść listę ")]),_:1})])):(p(),d(z,{key:1,members:u(s),onToggleMember:t[1]||(t[1]=c=>x(c))},null,8,["members"])),n(b,{expand:"block",onClick:y,class:"my-6"},{default:e(()=>[f("Aktualizuj listę")]),_:1})]),_:1})]),_:1})}}};export{K as default};
