import{u as O,au as z,M as R,r as b,i as L,N as c,A as e,a2 as U,t as i,z as n,P as l,B as _,ah as j,Q as I,a8 as q,U as D,a7 as F,V as H,W as Q,aq as W,Z,$,ai as E,a1 as G}from"./B4jYTB7S.js";import{_ as J}from"./DPe8DP1G.js";import{a as K}from"./CHVAF33P.js";const te={__name:"index",setup(X){const m=O(),k=localStorage.getItem("uid"),p=z(),{editPantry:y}=p,{currentPantry:o}=R(p),r=b(o.value.name),a=b(o.value.members),v=async()=>{const t={...o.value,name:r.value,members:a.value};await y(t),m.back()},w=t=>{a.value.find(s=>s.id===t.id)?a.value=a.value.filter(s=>s.id!=t.id):a.value.push(t)},d=L(()=>o.value.ownerId!==k),B=async()=>{await leaveList(),m.back()};return(t,u)=>{const s=q,g=D,M=F,P=H,x=Q,V=W,N=Z,h=J,C=$,f=E,S=G,T=U;return i(),c(T,null,{default:e(()=>[n(x,{style:{background:"var(--ion-color-light)"}},{default:e(()=>[n(P,null,{default:e(()=>[n(g,{slot:"start"},{default:e(()=>[n(s,{text:"",icon:"ioniconsArrowBackOutline"in t?t.ioniconsArrowBackOutline:l(K)},null,8,["icon"])]),_:1}),n(M,null,{default:e(()=>[_("Spiżarnia")]),_:1})]),_:1})]),_:1}),n(S,{fullscreen:!0},{default:e(()=>[n(C,{lines:"none",class:"mt-4"},{default:e(()=>[n(N,null,{default:e(()=>[n(V,{label:"Nazwa spiżarni","label-placement":"floating",ref:"input",type:"text",modelValue:l(r),"onUpdate:modelValue":u[0]||(u[0]=A=>j(r)?r.value=A:null)},null,8,["modelValue"])]),_:1}),l(d)?I("",!0):(i(),c(h,{key:0,members:l(o).members,onToggleMember:w},null,8,["members"]))]),_:1}),l(d)?(i(),c(f,{key:0,class:"my-6 w-full",onClick:B},{default:e(()=>[_(" Opuść spiżarnię ")]),_:1})):I("",!0),n(f,{onClick:v,class:"my-6 w-full"},{default:e(()=>[_("Aktualizuj spiżarnię")]),_:1})]),_:1})]),_:1})}}};export{te as default};
