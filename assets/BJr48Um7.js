import{al as A,az as M,am as Z,r,N as $,A as e,a1 as z,t as F,z as o,B as l,x as H,P as n,ag as f,l as _,a5 as P,V as R,W as D,ad as E,T as O,aA as W,a0 as q,aB as G}from"./Chhd-YqF.js";import{_ as J}from"./DeAuytsN.js";import{_ as K}from"./uZK-s0ik.js";const Q={class:"flex items-center h-full w-full"},eo={__name:"index",setup(X){const g=A(),{getNotifications:v}=g,{displayToast:w}=G(),T=M(),{loginUser:V}=T,b=Z(),{getFamilyDetails:y}=b,i=r(""),u=r(""),p=r(""),c=r(!1),I=()=>{p.value="Zalogowano pomyślnie",c.value=!0,setTimeout(()=>{c.value=!1},2e3)},k=async()=>{try{const a=await V(i.value,u.value);a.error?w(a.error):(_("/"),await v(),await y(),I())}catch(a){console.log(a)}};return(a,t)=>{const x=P,B=R,C=D,d=J,N=E,m=O,S=K,L=W,U=q,j=z;return F(),$(j,null,{default:e(()=>[o(C,null,{default:e(()=>[o(B,null,{default:e(()=>[o(x,null,{default:e(()=>[l("Logowanie")]),_:1})]),_:1})]),_:1}),o(U,{fullscreen:!0},{default:e(()=>[H("div",Q,[o(S,{class:"p-8 w-full"},{title:e(()=>[l(" Logowanie ")]),default:e(()=>[o(N,null,{default:e(()=>[o(d,{label:"Email",type:"email",modelValue:n(i),"onUpdate:modelValue":t[0]||(t[0]=s=>f(i)?i.value=s:null)},null,8,["modelValue"]),o(d,{label:"Hasło",type:"password",modelValue:n(u),"onUpdate:modelValue":t[1]||(t[1]=s=>f(u)?u.value=s:null)},null,8,["modelValue"])]),_:1}),o(m,{class:"w-full mt-4",expand:"block",onClick:k},{default:e(()=>[l("Zaloguj")]),_:1}),o(m,{class:"w-full mt-4",expand:"block",fill:"outline",onClick:t[2]||(t[2]=s=>("navigateTo"in a?a.navigateTo:n(_))("/register"))},{default:e(()=>[l("Rejestracja")]),_:1}),o(m,{class:"w-full mt-4",expand:"block",fill:"clear",onClick:t[3]||(t[3]=s=>("navigateTo"in a?a.navigateTo:n(_))("/reset-password"))},{default:e(()=>[l("Zapomniałem hasła")]),_:1})]),_:1})]),o(L,{"is-open":n(c),message:n(p),duration:2e3},null,8,["is-open","message"])]),_:1})]),_:1})}}};export{eo as default};
