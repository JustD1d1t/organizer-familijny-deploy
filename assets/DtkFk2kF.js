import{_ as F,aE as G,L as Q,r as f,i as Y,N as p,A as n,Z,t as a,z as e,O as t,B as x,x as I,a2 as q,aT as J,aU as K,v as r,Q as y,R as k,P as d,T as M,U as X,S as oo,V as eo,W as to,a4 as no,ag as ao,a$ as so,ao as co,Y as lo,$ as io,y as ro,C as uo,D as _o,al as po,a1 as mo,b0 as go,ai as ho}from"./BST2lCDv.js";import{_ as fo}from"./DEy0Kok1.js";import{u as yo}from"./CZ-7WC5P.js";const ko=_=>(uo("data-v-c3dc5ef3"),_=_(),_o(),_),Io={class:"ion-padding inner-content"},vo={class:"ion-padding",slot:"content"},Co={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},wo={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},So={key:1,class:"background"},bo=ko(()=>I("span",null,"Aktualizacja listy",-1)),Lo={__name:"index",setup(_){const{shoppingItems:v}=yo(),C=G(),{handleItem:B}=C,{currentShoppingList:m,isLoading:z}=Q(C),g=f("");f(!1);const c=f(""),{openToast:w}=ho(),S=Y(()=>[...v.map(l=>l.items.map(h=>({name:h,category:l.category}))).flat().filter(l=>l.name.toLowerCase().includes(c.value.toLowerCase())),{name:c.value.toLowerCase(),category:"bez kateogrii"}]),b=async(s,u)=>{await B(s,u)==="added"?w("Dodano produkt do listy"):w("UsuniÄ™to produkt z listy","danger")},A=s=>{g.value=g.value===s?"":s};return(s,u)=>{const l=M,h=X,T=oo,V=eo,N=to,W=no,D=ao,O=po,U=mo,L=fo,P=go,R=so,j=co,E=lo,H=Z;return a(),p(H,null,{default:n(()=>[e(N,{style:{background:"var(--ion-color-light)"}},{default:n(()=>[e(V,null,{default:n(()=>[e(h,{slot:"start"},{default:n(()=>[e(l,{text:"",icon:"ioniconsArrowBackOutline"in s?s.ioniconsArrowBackOutline:t(io)},null,8,["icon"])]),_:1}),e(T,null,{default:n(()=>[x("Listy zakupowe")]),_:1})]),_:1})]),_:1}),e(E,{fullscreen:!0},{default:n(()=>[I("div",Io,[e(D,{lines:"none"},{default:n(()=>[e(W,{label:"Napisz czego szukasz",type:"text",modelValue:t(c),"onUpdate:modelValue":u[0]||(u[0]=o=>q(c)?c.value=o:null),placeholder:"Szukaj..."},null,8,["modelValue"])]),_:1}),J(e(R,{class:"shopping-accordion-group"},{default:n(()=>[(a(!0),r(k,null,y(t(v),o=>(a(),p(P,{key:o.category,value:o.category},{default:n(()=>[e(U,{slot:"header",color:"light",onClick:()=>A(o.category)},{default:n(()=>[e(O,null,{default:n(()=>[x(ro(o.category),1)]),_:2},1024)]),_:2},1032,["onClick"]),I("div",vo,[t(m)&&o.category===t(g)?(a(),r("div",Co,[(a(!0),r(k,null,y(o.items,i=>(a(),p(L,{key:i,"shopping-item":i,active:t(m).items.some($=>$.name===i),onClick:()=>b(i,o.category)},null,8,["shopping-item","active","onClick"]))),128))])):d("",!0)])]),_:2},1032,["value"]))),128))]),_:1},512),[[K,t(c).length===0]]),t(c).length?(a(),r("div",wo,[t(S).length?(a(!0),r(k,{key:0},y(t(S),o=>(a(),p(L,{key:o,"shopping-item":o.name,active:t(m).items.some(i=>i.name===o.name),onClick:()=>b(o.name,o.category)},null,8,["shopping-item","active","onClick"]))),128)):d("",!0)])):d("",!0),t(z)?(a(),r("div",So,[e(j,{name:"lines-sharp"}),bo])):d("",!0)])]),_:1})]),_:1})}}},Ao=F(Lo,[["__scopeId","data-v-c3dc5ef3"]]);export{Ao as default};
