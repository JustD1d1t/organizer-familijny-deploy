import{_ as U,ar as j,M as E,r as f,i as Q,N as _,A as e,a1 as X,t as a,z as t,B as z,x as v,P as n,ah as Y,aF as q,aG as J,v as r,S as y,R as I,Q as d,a6 as K,V as O,W as Z,X as $,Y as oo,ae as eo,aM as to,ac as no,a0 as ao,y as so,C as lo,D as co,aI as io,aN as ro,a3 as po}from"./DO8NUlkj.js";import{_ as uo}from"./Bn1PGiC1.js";import{u as _o}from"./BqjzI2aC.js";const mo=u=>(lo("data-v-5a173c00"),u=u(),co(),u),go={class:"ion-padding inner-content"},ho={class:"ion-padding",slot:"content"},fo={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},yo={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},Io={key:1,class:"background"},vo=mo(()=>v("span",null,"Aktualizacja listy",-1)),ko={__name:"index",setup(u){const{shoppingItems:k}=_o(),C=j(),{handleItem:V}=C,{currentShoppingList:m,isLoading:A}=E(C),g=f("");f(!1);const s=f(""),{openToast:w}=po(),S=Q(()=>[...k.map(l=>l.items.map(h=>({name:h,category:l.category}))).flat().filter(l=>l.name.toLowerCase().includes(s.value.toLowerCase())),{name:s.value.toLowerCase(),category:"bez kateogrii"}]),b=async(c,p)=>{await V(c,p)==="added"?w("Dodano produkt do listy"):w("UsuniÄ™to produkt z listy","danger")},B=c=>{g.value=g.value===c?"":c};return(c,p)=>{const l=K,h=O,N=Z,T=$,x=oo,W=eo,D=io,L=uo,P=ro,R=to,F=no,G=ao,H=X;return a(),_(H,null,{default:e(()=>[t(N,null,{default:e(()=>[t(h,null,{default:e(()=>[t(l,null,{default:e(()=>[z("Listy zakupowe")]),_:1})]),_:1})]),_:1}),t(G,{fullscreen:!0},{default:e(()=>[v("div",go,[t(W,null,{default:e(()=>[t(x,null,{default:e(()=>[t(T,{label:"Czego szukasz...","label-placement":"floating",ref:"input",type:"text","clear-input":!0,modelValue:n(s),"onUpdate:modelValue":p[0]||(p[0]=o=>Y(s)?s.value=o:null),class:"border-b-2 mb-4"},null,8,["modelValue"])]),_:1})]),_:1}),q(t(R,{class:"shopping-accordion-group"},{default:e(()=>[(a(!0),r(I,null,y(n(k),o=>(a(),_(P,{key:o.category,value:o.category},{default:e(()=>[t(x,{slot:"header",color:"light",onClick:()=>B(o.category)},{default:e(()=>[t(D,null,{default:e(()=>[z(so(o.category),1)]),_:2},1024)]),_:2},1032,["onClick"]),v("div",ho,[n(m)&&o.category===n(g)?(a(),r("div",fo,[(a(!0),r(I,null,y(o.items,i=>(a(),_(L,{key:i,"shopping-item":i,active:n(m).items.some(M=>M.name===i),onClick:()=>b(i,o.category)},null,8,["shopping-item","active","onClick"]))),128))])):d("",!0)])]),_:2},1032,["value"]))),128))]),_:1},512),[[J,n(s).length===0]]),n(s).length?(a(),r("div",yo,[n(S).length?(a(!0),r(I,{key:0},y(n(S),o=>(a(),_(L,{key:o,"shopping-item":o.name,active:n(m).items.some(i=>i.name===o.name),onClick:()=>b(o.name,o.category)},null,8,["shopping-item","active","onClick"]))),128)):d("",!0)])):d("",!0),n(A)?(a(),r("div",Io,[t(F,{name:"lines-sharp"}),vo])):d("",!0)])]),_:1})]),_:1})}}},bo=U(ko,[["__scopeId","data-v-5a173c00"]]);export{bo as default};
