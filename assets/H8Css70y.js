import{u as A,aC as U,M as k,N as j,r as m,i as Q,O as p,A as e,aQ as $,a6 as D,t as d,z as o,Q as a,B as f,ar as E,R as w,ae as F,V as H,a3 as P,W,X,Y,a0 as Z,U as q,a5 as G,ag as J}from"./CtmnvVoy.js";import{_ as K}from"./BVKwL09d.js";const te={__name:"index",setup(ee){$();const I=A(),v=U(),{editShoppingList:g,leaveList:y}=v,{currentShoppingList:l}=k(v),B=j(),{uid:M}=k(B);m();const i=Q(()=>M.value!==l.value.ownerId),u=m(i.value?[]:l.value.members),r=m(i.value?[]:l.value.membersIds),c=m(l.value.name),x=async()=>{await g(c.value,u.value,r.value),I.back()},S=n=>{u.value.find(s=>s.id===n.id)?(u.value=u.value.filter(s=>s.id!==n.uid),r.value=r.value.filter(s=>s!==n.uid)):(u.value.push(n),r.value.push(n.uid))};return(n,t)=>{const s=F,L=H,V=P,z=W,C=X,N=Y,O=K,R=Z,b=q,T=G,h=D;return d(),p(h,null,{default:e(()=>[o(C,{style:{background:"var(--ion-color-light)"}},{default:e(()=>[o(z,null,{default:e(()=>[o(L,{slot:"start"},{default:e(()=>[o(s,{text:"",icon:"ioniconsArrowBackOutline"in n?n.ioniconsArrowBackOutline:a(J)},null,8,["icon"])]),_:1}),o(V,null,{default:e(()=>[f("Edytuj listę zakupową")]),_:1})]),_:1})]),_:1}),o(T,{fullscreen:!0},{default:e(()=>[o(R,{lines:"none",class:"mt-4"},{default:e(()=>[o(N,{label:"Nazwa listy zakupowej",type:"text",modelValue:a(c),"onUpdate:modelValue":t[0]||(t[0]=_=>E(c)?c.value=_:null)},null,8,["modelValue"]),a(i)?w("",!0):(d(),p(O,{key:0,members:a(l).members,onToggleMember:t[1]||(t[1]=_=>S(_))},null,8,["members"]))]),_:1}),a(i)?(d(),p(b,{key:0,onClick:t[2]||(t[2]=_=>a(y)()),class:"my-6 w-full"},{default:e(()=>[f(" Opuść listę ")]),_:1})):w("",!0),o(b,{onClick:x,class:"my-6 w-full"},{default:e(()=>[f(" Zapisz zmiany ")]),_:1})]),_:1})]),_:1})}}};export{te as default};
