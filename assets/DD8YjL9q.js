import{am as j,aA as A,an as M,r as c,N as Z,A as n,a1 as F,t as H,z as e,B as s,x as P,P as r,ah as f,l as m,a6 as R,V as $,W as z,ae as D,T as E,aB as O,a0 as W,a3 as h}from"./DQNEkdG3.js";import{_ as q}from"./BfWRnpH5.js";import{_ as G}from"./D6S62nzm.js";const J={class:"flex items-center h-full w-full"},oo={__name:"index",setup(K){const g=j(),{getNotifications:w}=g,{openToast:_}=h(),T=A(),{loginUser:v}=T,V=M(),{getFamilyDetails:b}=V,l=c(""),i=c("");c("");const I=()=>{_("Zalogowano pomyślnie")},p=o=>{_(o,"danger")},k=async()=>{try{const o=await v(l.value,i.value);o.error?p(o.error):(m("/"),await w(),await b(),I())}catch(o){p(o)}};return(o,a)=>{const y=R,x=$,B=z,d=q,C=D,u=E,N=G,S=O,L=W,U=F;return H(),Z(U,null,{default:n(()=>[e(B,null,{default:n(()=>[e(x,null,{default:n(()=>[e(y,null,{default:n(()=>[s("Logowanie")]),_:1})]),_:1})]),_:1}),e(L,{fullscreen:!0},{default:n(()=>[P("div",J,[e(N,{class:"p-8 w-full"},{title:n(()=>[s(" Logowanie ")]),default:n(()=>[e(C,null,{default:n(()=>[e(d,{label:"Email",type:"email",modelValue:r(l),"onUpdate:modelValue":a[0]||(a[0]=t=>f(l)?l.value=t:null)},null,8,["modelValue"]),e(d,{label:"Hasło",type:"password",modelValue:r(i),"onUpdate:modelValue":a[1]||(a[1]=t=>f(i)?i.value=t:null)},null,8,["modelValue"])]),_:1}),e(u,{class:"w-full mt-4",expand:"block",onClick:k},{default:n(()=>[s("Zaloguj")]),_:1}),e(u,{class:"w-full mt-4",expand:"block",fill:"outline",onClick:a[2]||(a[2]=t=>("navigateTo"in o?o.navigateTo:r(m))("/register"))},{default:n(()=>[s("Rejestracja")]),_:1}),e(u,{class:"w-full mt-4",expand:"block",fill:"clear",onClick:a[3]||(a[3]=t=>("navigateTo"in o?o.navigateTo:r(m))("/reset-password"))},{default:n(()=>[s("Zapomniałem hasła")]),_:1})]),_:1})]),e(S,{"is-open":o.isOpen,message:o.toastMessage,duration:2e3},null,8,["is-open","message"])]),_:1})]),_:1})}}};export{oo as default};
