import{u as R,N as U,M as b,aD as D,r as k,i as L,O as c,A as e,a6 as j,t as i,z as n,Q as l,B as _,ar as F,R as v,ae as H,V as Q,a3 as W,W as X,X as $,az as q,$ as E,a0 as G,U as J,a5 as K,ag as Y}from"./CtmnvVoy.js";import{_ as Z}from"./BVKwL09d.js";const oe={__name:"index",setup(ee){const m=R(),y=U(),{uid:I}=b(y),p=D(),{editPantry:w}=p,{currentPantry:o}=b(p),r=k(o.value.name),a=k(o.value.members),B=async()=>{const t={...o.value,name:r.value,members:a.value};await w(t),m.back()},M=t=>{a.value.find(s=>s.id===t.id)?a.value=a.value.filter(s=>s.id!=t.id):a.value.push(t)},d=L(()=>o.value.ownerId!==I.value),g=async()=>{await leaveList(),m.back()};return(t,u)=>{const s=H,P=Q,x=W,V=X,N=$,S=q,C=E,O=Z,T=G,f=J,h=K,z=j;return i(),c(z,null,{default:e(()=>[n(N,{style:{background:"var(--ion-color-light)"}},{default:e(()=>[n(V,null,{default:e(()=>[n(P,{slot:"start"},{default:e(()=>[n(s,{text:"",icon:"ioniconsArrowBackOutline"in t?t.ioniconsArrowBackOutline:l(Y)},null,8,["icon"])]),_:1}),n(x,null,{default:e(()=>[_("Spiżarnia")]),_:1})]),_:1})]),_:1}),n(h,{fullscreen:!0},{default:e(()=>[n(T,{lines:"none",class:"mt-4"},{default:e(()=>[n(C,null,{default:e(()=>[n(S,{label:"Nazwa spiżarni","label-placement":"floating",ref:"input",type:"text",modelValue:l(r),"onUpdate:modelValue":u[0]||(u[0]=A=>F(r)?r.value=A:null)},null,8,["modelValue"])]),_:1}),l(d)?v("",!0):(i(),c(O,{key:0,members:l(o).members,onToggleMember:M},null,8,["members"]))]),_:1}),l(d)?(i(),c(f,{key:0,class:"my-6 w-full",onClick:g},{default:e(()=>[_(" Opuść spiżarnię ")]),_:1})):v("",!0),n(f,{onClick:B,class:"my-6 w-full"},{default:e(()=>[_("Aktualizuj spiżarnię")]),_:1})]),_:1})]),_:1})}}};export{oe as default};
