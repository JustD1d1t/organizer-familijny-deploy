import{_ as F,at as G,M as K,r as f,i as M,N as d,A as e,a1 as O,t as a,z as t,B as z,x as v,P as n,ah as Q,aH as X,aI as Y,v as r,S as y,R as I,Q as _,a6 as q,V as J,W as Z,X as $,Y as oo,ae as eo,aO as to,ac as no,a0 as ao,y as so,C as lo,D as co,aK as io,aP as ro,a3 as po}from"./DSXBFoX7.js";import{_ as uo}from"./DaNFraNJ.js";import{u as _o}from"./CUw5Wxsj.js";const mo=u=>(lo("data-v-82bbe44d"),u=u(),co(),u),go={class:"ion-padding inner-content"},ho={class:"ion-padding",slot:"content"},fo={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},yo={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},Io={key:1,class:"background"},vo=mo(()=>v("span",null,"Aktualizacja listy",-1)),ko={__name:"index",setup(u){const{shoppingItems:k}=_o(),C=G(),{handleItem:V}=C,{currentShoppingList:m,isLoading:A}=K(C),g=f("");f(!1);const s=f(""),{openToast:b}=po(),w=M(()=>[...k.map(l=>l.items.map(h=>({name:h,category:l.category}))).flat().filter(l=>l.name.toLowerCase().includes(s.value.toLowerCase())),{name:s.value.toLowerCase(),category:"bez kateogrii"}]),S=async(c,p)=>{await V(c,p)==="added"?b("Dodano produkt do listy"):b("UsuniÄ™to produkt z listy","danger")},B=c=>{g.value=g.value===c?"":c};return(c,p)=>{const l=q,h=J,T=Z,N=$,x=oo,W=eo,D=io,L=uo,P=ro,H=to,R=no,U=ao,j=O;return a(),d(j,null,{default:e(()=>[t(T,{style:{background:"var(--ion-color-light)"}},{default:e(()=>[t(h,null,{default:e(()=>[t(l,null,{default:e(()=>[z("Listy zakupowe")]),_:1})]),_:1})]),_:1}),t(U,{fullscreen:!0},{default:e(()=>[v("div",go,[t(W,null,{default:e(()=>[t(x,null,{default:e(()=>[t(N,{label:"Czego szukasz...","label-placement":"floating",ref:"input",type:"text","clear-input":!0,modelValue:n(s),"onUpdate:modelValue":p[0]||(p[0]=o=>Q(s)?s.value=o:null),class:"border-b-2 mb-4"},null,8,["modelValue"])]),_:1})]),_:1}),X(t(H,{class:"shopping-accordion-group"},{default:e(()=>[(a(!0),r(I,null,y(n(k),o=>(a(),d(P,{key:o.category,value:o.category},{default:e(()=>[t(x,{slot:"header",color:"light",onClick:()=>B(o.category)},{default:e(()=>[t(D,null,{default:e(()=>[z(so(o.category),1)]),_:2},1024)]),_:2},1032,["onClick"]),v("div",ho,[n(m)&&o.category===n(g)?(a(),r("div",fo,[(a(!0),r(I,null,y(o.items,i=>(a(),d(L,{key:i,"shopping-item":i,active:n(m).items.some(E=>E.name===i),onClick:()=>S(i,o.category)},null,8,["shopping-item","active","onClick"]))),128))])):_("",!0)])]),_:2},1032,["value"]))),128))]),_:1},512),[[Y,n(s).length===0]]),n(s).length?(a(),r("div",yo,[n(w).length?(a(!0),r(I,{key:0},y(n(w),o=>(a(),d(L,{key:o,"shopping-item":o.name,active:n(m).items.some(i=>i.name===o.name),onClick:()=>S(o.name,o.category)},null,8,["shopping-item","active","onClick"]))),128)):_("",!0)])):_("",!0),n(A)?(a(),r("div",Io,[t(R,{name:"lines-sharp"}),vo])):_("",!0)])]),_:1})]),_:1})}}},So=F(ko,[["__scopeId","data-v-82bbe44d"]]);export{So as default};
