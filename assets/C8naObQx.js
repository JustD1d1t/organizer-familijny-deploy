import{_ as F,au as G,M as H,r as f,i as K,N as _,A as t,a1 as M,t as o,z as n,B as S,P as a,ah as O,v as s,S as h,R as I,Q as v,a6 as Q,V as U,W as X,X as Y,Y as q,ae as J,aO as Z,ac as $,a0 as ee,y as oe,C as te,D as ne,x as ae,aK as se,aP as le}from"./DSXBFoX7.js";import{_ as ce}from"./DaNFraNJ.js";import{u as re}from"./CUw5Wxsj.js";const ie=p=>(te("data-v-c2e5a05b"),p=p(),ne(),p),ue={key:0,class:"ion-padding",slot:"content"},_e={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},pe={key:1,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},de={key:2,class:"background"},me=ie(()=>ae("span",null,"Aktualizacja listy",-1)),ge={__name:"index",setup(p){const{shoppingItems:k}=re(),C=G(),{handlePantryItem:L}=C,{currentPantry:d}=H(C),l=f(""),m=f(""),g=f(!1),V=K(()=>{const r=k.map(i=>i.items.map(y=>({name:y,category:i.category}))).flat();return[{name:l.value.toLowerCase(),category:"bez kateogrii"},...r.filter(i=>i.name.toLowerCase().includes(l.value.toLowerCase()))]}),z=c=>{m.value=m.value===c?"":c},b=async(c,r)=>{g.value=!0,await L(c,r),g.value=!1};return(c,r)=>{const i=Q,y=U,P=X,B=Y,w=q,A=J,N=se,x=ce,T=le,W=Z,R=$,D=ee,j=M;return o(),_(j,null,{default:t(()=>[n(P,{style:{background:"var(--ion-color-light)"}},{default:t(()=>[n(y,null,{default:t(()=>[n(i,null,{default:t(()=>[S("Listy zakupowe")]),_:1})]),_:1})]),_:1}),n(D,{fullscreen:!0},{default:t(()=>[n(A,null,{default:t(()=>[n(w,null,{default:t(()=>[n(B,{label:"Czego szukasz...","label-placement":"floating",ref:"input",type:"text","clear-input":!0,modelValue:a(l),"onUpdate:modelValue":r[0]||(r[0]=e=>O(l)?l.value=e:null),class:"border-b-2 mb-4"},null,8,["modelValue"])]),_:1})]),_:1}),a(l).length<3?(o(),_(W,{key:0,class:"shopping-accordion-group"},{default:t(()=>[(o(!0),s(I,null,h(a(k),e=>(o(),_(T,{key:e.category,value:e.category},{default:t(()=>[n(w,{slot:"header",color:"light",onClick:()=>z(e.category)},{default:t(()=>[n(N,null,{default:t(()=>[S(oe(e.category),1)]),_:2},1024)]),_:2},1032,["onClick"]),a(d).items?(o(),s("div",ue,[e.category===a(m)?(o(),s("div",_e,[(o(!0),s(I,null,h(e.items,u=>(o(),_(x,{key:u,"shopping-item":u,active:a(d).items.some(E=>E.name===u),onClick:()=>b(u,e.category)},null,8,["shopping-item","active","onClick"]))),128))])):v("",!0)])):v("",!0)]),_:2},1032,["value"]))),128))]),_:1})):(o(),s("div",pe,[(o(!0),s(I,null,h(a(V),e=>(o(),_(x,{key:e,"shopping-item":e.name,active:a(d).items.some(u=>u.name===e.name),onClick:()=>b(e.name,e.category)},null,8,["shopping-item","active","onClick"]))),128))])),a(g)?(o(),s("div",de,[n(R,{name:"lines-sharp"}),me])):v("",!0)]),_:1})]),_:1})}}},Ie=F(ge,[["__scopeId","data-v-c2e5a05b"]]);export{Ie as default};
