import{_ as F,aC as G,M,r as y,i as O,O as u,A as t,a6 as Q,t as n,z as a,B as b,x as k,Q as e,ac as X,aS as Y,aT as Z,v as r,T as f,S as I,R as d,a3 as $,W as q,X as J,Y as K,a0 as oo,aZ as eo,ak as to,a5 as no,y as ao,C as so,D as co,ag as lo,$ as io,a_ as ro,a9 as po}from"./BeL7Np4Z.js";import{_ as _o}from"./Jn7FJFjE.js";import{u as uo}from"./BTwHE2uG.js";const go=_=>(so("data-v-101be0ea"),_=_(),co(),_),mo={class:"ion-padding inner-content"},ho={class:"ion-padding",slot:"content"},yo={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},fo={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},Io={key:1,class:"background"},ko=go(()=>k("span",null,"Aktualizacja listy",-1)),vo={__name:"index",setup(_){const{shoppingItems:v}=uo(),C=G(),{handleItem:z}=C,{currentShoppingList:g,isLoading:T}=M(C),m=y("");y(!1);const s=y(""),{openToast:w}=po(),S=O(()=>[...v.map(c=>c.items.map(h=>({name:h,category:c.category}))).flat().filter(c=>c.name.toLowerCase().includes(s.value.toLowerCase())),{name:s.value.toLowerCase(),category:"bez kateogrii"}]),x=async(l,p)=>{await z(l,p)==="added"?w("Dodano produkt do listy"):w("UsuniÄ™to produkt z listy","danger")},V=l=>{m.value=m.value===l?"":l};return(l,p)=>{const c=$,h=q,A=J,B=K,N=oo,W=lo,D=io,L=_o,R=ro,j=eo,H=to,P=no,U=Q;return n(),u(U,null,{default:t(()=>[a(A,{style:{background:"var(--ion-color-light)"}},{default:t(()=>[a(h,null,{default:t(()=>[a(c,null,{default:t(()=>[b("Listy zakupowe")]),_:1})]),_:1})]),_:1}),a(P,{fullscreen:!0},{default:t(()=>[k("div",mo,[a(N,{lines:"none"},{default:t(()=>[a(B,{label:"Napisz czego szukasz",type:"text",modelValue:e(s),"onUpdate:modelValue":p[0]||(p[0]=o=>X(s)?s.value=o:null),placeholder:"Szukaj..."},null,8,["modelValue"])]),_:1}),Y(a(j,{class:"shopping-accordion-group"},{default:t(()=>[(n(!0),r(I,null,f(e(v),o=>(n(),u(R,{key:o.category,value:o.category},{default:t(()=>[a(D,{slot:"header",color:"light",onClick:()=>V(o.category)},{default:t(()=>[a(W,null,{default:t(()=>[b(ao(o.category),1)]),_:2},1024)]),_:2},1032,["onClick"]),k("div",ho,[e(g)&&o.category===e(m)?(n(),r("div",yo,[(n(!0),r(I,null,f(o.items,i=>(n(),u(L,{key:i,"shopping-item":i,active:e(g).items.some(E=>E.name===i),onClick:()=>x(i,o.category)},null,8,["shopping-item","active","onClick"]))),128))])):d("",!0)])]),_:2},1032,["value"]))),128))]),_:1},512),[[Z,e(s).length===0]]),e(s).length?(n(),r("div",fo,[e(S).length?(n(!0),r(I,{key:0},f(e(S),o=>(n(),u(L,{key:o,"shopping-item":o.name,active:e(g).items.some(i=>i.name===o.name),onClick:()=>x(o.name,o.category)},null,8,["shopping-item","active","onClick"]))),128)):d("",!0)])):d("",!0),e(T)?(n(),r("div",Io,[a(H,{name:"lines-sharp"}),ko])):d("",!0)])]),_:1})]),_:1})}}},xo=F(vo,[["__scopeId","data-v-101be0ea"]]);export{xo as default};
