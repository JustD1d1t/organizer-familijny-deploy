import{ac as M,L as j,aF as B,i as S,t as i,v as L,x as s,z as t,A as n,B as v,y as I,O as o,N as m,b2 as D,P as y,l as C,al as O,a5 as A,X as U,a1 as T,Y as V,b4 as W,R as P,Q as R,ao as Q,ap as q,aq as G,u as H,Z as X,T as Y,U as Z,S as J,V as K,W as tt,as as nt,at as ot,$ as st,a9 as et}from"./Da8WVVY-.js";import{_ as it}from"./pRg_Fr1J.js";import{_ as lt}from"./bxLPhKux.js";import{u as ct}from"./BZAGIkvc.js";const at={class:"flex flex-col py-2 pl-6 pr-2 my-1 bg-white rounded-2xl shadow-2xl"},pt={class:"flex items-center"},ut={class:"flex flex-col grow"},_t={class:"mr-4"},rt={__name:"single-list-item",props:{shoppingList:{type:Object,default:()=>{}}},setup(e){const c=e,a=M(),{uid:_}=j(a),r=B(),{removeShoppingList:d,setCurrentShoppingList:k}=r,h=l=>{C(`/shopping-lists/${l.id}`),k(l)},p=()=>{k(c.shoppingList),C(`/shopping-lists/${c.shoppingList.id}/edit`)},z=S(()=>c.shoppingList.items.filter(l=>l.checked).length),b=S(()=>c.shoppingList.ownerId!==_.value),w=S(()=>{var l;return((l=c.shoppingList.members)==null?void 0:l.map(u=>u.nickname).join(", "))??""});return(l,u)=>{const g=O,f=A,$=U,x=T,N=lt,E=V,F=W;return i(),L("div",at,[s("div",pt,[s("div",ut,[t(g,{class:"flex-grow font-bold",onClick:u[0]||(u[0]=()=>h(e.shoppingList))},{default:n(()=>[v(I(e.shoppingList.name),1)]),_:1}),s("div",null,[s("span",_t,I(o(z))+" / "+I(e.shoppingList.items.length),1),s("span",null,I(o(w)),1)])]),o(b)?y("",!0):(i(),m($,{key:0,id:"open-shopping-menu-"+e.shoppingList.id,class:"ml-auto",size:"small",type:"tertiary"},{default:n(()=>[t(f,{size:"medium",icon:"ioniconsEllipsisVerticalOutline"in l?l.ioniconsEllipsisVerticalOutline:o(D)},null,8,["icon"])]),_:1},8,["id"])),o(b)?y("",!0):(i(),m(F,{key:1,trigger:"open-shopping-menu-"+e.shoppingList.id,"trigger-action":"click",side:"bottom",alignment:"center","dismiss-on-select":!0},{default:n(()=>[t(E,{class:"ion-padding mr-8"},{default:n(()=>[t(N,null,{default:n(()=>[t(x,{onClick:p},{default:n(()=>[t(g,null,{default:n(()=>[v("Edytuj")]),_:1})]),_:1}),t(x,{onClick:u[1]||(u[1]=At=>o(d)(e.shoppingList.id))},{default:n(()=>[t(g,null,{default:n(()=>[v("Usuń")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["trigger"]))])])}}},dt={class:"flex flex-col"},mt={__name:"items",props:{shoppingLists:{type:Object,default:()=>{}}},setup(e){return(c,a)=>{const _=rt;return i(),L("div",dt,[(i(!0),L(P,null,R(e.shoppingLists,r=>(i(),m(_,{key:r.name,shoppingList:r},null,8,["shoppingList"]))),128))])}}},ht={key:0,class:"w-full"},gt={key:0,class:"col-span-2 text-center"},ft={__name:"lists-container",props:{title:{type:String,default:()=>{}},shoppingLists:{type:Object,default:()=>{}}},setup(e){return(c,a)=>{const _=mt;return e.shoppingLists.length?(i(),L("div",ht,[e.title?(i(),L("h2",gt,I(e.title),1)):y("",!0),t(_,{shoppingLists:e.shoppingLists},null,8,["shoppingLists"])])):y("",!0)}}},yt={key:0,class:"w-full flex justify-center items-center h-full"},Lt={key:1},bt=s("b",null,"Czy wiesz, że...",-1),kt={class:"ion-padding",slot:"content"},zt=s("br",null,null,-1),wt=s("p",null,"Dzięki temu możecie wspólnie planować zakupy",-1),It=s("br",null,null,-1),St=s("p",null," Osoby do listy możesz dodać przy tworzeniu lub edycji danej listy ",-1),xt=s("br",null,null,-1),vt=s("p",null,"Dzięki temu możecie wspólnie planować zakupy",-1),$t=s("br",null,null,-1),Bt=s("p",null," Osoby do listy możesz dodać przy tworzeniu lub edycji danej listy ",-1),Ct=s("br",null,null,-1),jt=s("p",{class:"h3 font-bold"},"Stwórz pierwszą listę zakupową",-1),Ot={__name:"lists",setup(e){const c=B(),{shoppingLists:a,isLoading:_,collaboratedShoppingLists:r}=j(c),d=S(()=>a.value.filter(h=>{var p;return(p=h.members)==null?void 0:p.length})),k=S(()=>a.value.filter(h=>{var p;return!((p=h.members)!=null&&p.length)}));return(h,p)=>{const z=Q,b=O,w=T,l=it,u=q,g=G,f=ft;return o(_)?(i(),L("div",yt,[t(z,{name:"lines-sharp"})])):(i(),L("div",Lt,[o(a).length?(i(),m(g,{key:0},{default:n(()=>[t(u,{value:"first"},{default:n(()=>[t(w,{slot:"header",color:"light"},{default:n(()=>[t(b,null,{default:n(()=>[bt]),_:1})]),_:1}),s("div",kt,[t(l,{subtitle:"Możesz utworzyć własne listy zakupowe i zaprosić do nich członków rodziny",icon:"ioniconsBulb",class:"mb-4 mt-2"},{default:n(()=>[zt,wt,It,St]),_:1})])]),_:1})]),_:1})):y("",!0),o(a).length?(i(),m(f,{key:1,title:"Twoje listy zakupowe",shoppingLists:o(k)},null,8,["shoppingLists"])):(i(),m(l,{key:2,title:"Czy wiesz, że...",subtitle:"Możesz utworzyć własne listy zakupowe i zaprosić do nich członków rodziny?",icon:"ioniconsBulb",class:"mt-8"},{default:n(()=>[xt,vt,$t,Bt,Ct,jt]),_:1})),o(a).length&&o(d).length?(i(),m(f,{key:3,title:"Współdzielone listy zakupowe",shoppingLists:o(d)},null,8,["shoppingLists"])):y("",!0),o(r).length?(i(),m(f,{key:4,title:"Listy do których zostałeś zaproszony",shoppingLists:o(r)},null,8,["shoppingLists"])):y("",!0)]))}}},Ft={__name:"index",setup(e){const c=H(),a=()=>{c.push("/shopping-lists/new")},_=B(),{getAllShoppingLists:r}=_;return ct(async()=>{await r()},"$SFyjIVUp0Q"),(d,k)=>{const h=Y,p=Z,z=J,b=K,w=tt,l=Ot,u=A,g=nt,f=ot,$=V,x=X;return i(),m(x,null,{default:n(()=>[t(w,null,{default:n(()=>[t(b,null,{default:n(()=>[t(p,{slot:"start"},{default:n(()=>[t(h,{text:"",icon:"ioniconsArrowBackOutline"in d?d.ioniconsArrowBackOutline:o(st)},null,8,["icon"])]),_:1}),t(z,null,{default:n(()=>[v("Listy zakupowe")]),_:1})]),_:1})]),_:1}),t($,{fullscreen:!0},{default:n(()=>[t(l),t(f,{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:n(()=>[t(g,{onClick:a},{default:n(()=>[t(u,{icon:"ioniconsAdd"in d?d.ioniconsAdd:o(et)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{Ft as default};
