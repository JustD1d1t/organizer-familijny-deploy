import{u as O,aA as z,M as R,r as b,i as L,N as u,A as e,a5 as U,t as i,z as n,P as l,B as _,ao as j,Q as I,ac as D,U as F,a2 as H,V as Q,W,aw as Z,Z as $,$ as q,T as E,a4 as G,ae as J}from"./BClyMcC6.js";import{_ as K}from"./CvZxeKqt.js";const ne={__name:"index",setup(X){const m=O(),k=localStorage.getItem("uid"),d=z(),{editPantry:y}=d,{currentPantry:o}=R(d),c=b(o.value.name),a=b(o.value.members),v=async()=>{const t={...o.value,name:c.value,members:a.value};await y(t),m.back()},w=t=>{a.value.find(s=>s.id===t.id)?a.value=a.value.filter(s=>s.id!=t.id):a.value.push(t)},p=L(()=>o.value.ownerId!==k),B=async()=>{await leaveList(),m.back()};return(t,r)=>{const s=D,g=F,M=H,P=Q,x=W,V=Z,N=$,T=K,A=q,f=E,C=G,S=U;return i(),u(S,null,{default:e(()=>[n(x,{style:{background:"var(--ion-color-light)"}},{default:e(()=>[n(P,null,{default:e(()=>[n(g,{slot:"start"},{default:e(()=>[n(s,{text:"",icon:"ioniconsArrowBackOutline"in t?t.ioniconsArrowBackOutline:l(J)},null,8,["icon"])]),_:1}),n(M,null,{default:e(()=>[_("Spiżarnia")]),_:1})]),_:1})]),_:1}),n(C,{fullscreen:!0},{default:e(()=>[n(A,{lines:"none",class:"mt-4"},{default:e(()=>[n(N,null,{default:e(()=>[n(V,{label:"Nazwa spiżarni","label-placement":"floating",ref:"input",type:"text",modelValue:l(c),"onUpdate:modelValue":r[0]||(r[0]=h=>j(c)?c.value=h:null)},null,8,["modelValue"])]),_:1}),l(p)?I("",!0):(i(),u(T,{key:0,members:l(o).members,onToggleMember:w},null,8,["members"]))]),_:1}),l(p)?(i(),u(f,{key:0,class:"my-6 w-full",onClick:B},{default:e(()=>[_(" Opuść spiżarnię ")]),_:1})):I("",!0),n(f,{onClick:v,class:"my-6 w-full"},{default:e(()=>[_("Aktualizuj spiżarnię")]),_:1})]),_:1})]),_:1})}}};export{ne as default};
