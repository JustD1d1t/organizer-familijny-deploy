import{u as h,ar as B,M as C,r as _,i as R,N as d,A as e,aD as j,a1 as A,t as p,z as n,B as f,P as u,ah as D,Q as P,v as E,a6 as F,V as H,W as O,X as Q,Y as U,T as W,a0 as X}from"./B5peZbYZ.js";import{_ as Y}from"./Dq8u5c4k.js";const $={key:2,class:"flex justify-center"},K={__name:"index",setup(q){j();const I=h(),v=B(),{editShoppingList:k,leaveList:g}=v,{currentShoppingList:l}=C(v),w=_(),m=R(()=>localStorage.getItem("uid")!==l.value.ownerId),s=_(m.value?[]:l.value.members),i=_(m.value?[]:l.value.membersIds),r=_(l.value.name),y=async()=>{await k(r.value,s.value,i.value),I.back()},x=a=>{s.value.find(o=>o.id===a.id)?(s.value=s.value.filter(o=>o.id!==a.uid),i.value=i.value.filter(o=>o!==a.uid)):(s.value.push(a),i.value.push(a.uid))};return(a,t)=>{const o=F,M=H,L=O,S=Q,V=U,z=Y,b=W,N=X,T=A;return p(),d(T,null,{default:e(()=>[n(L,null,{default:e(()=>[n(M,null,{default:e(()=>[n(o,null,{default:e(()=>[f("Listy zakupowe")]),_:1})]),_:1})]),_:1}),n(N,{fullscreen:!0},{default:e(()=>[u(l)?(p(),d(V,{key:0,class:"mb-4"},{default:e(()=>[n(S,{label:"Nazwa listy zakupowej","label-placement":"floating",ref_key:"input",ref:w,type:"text",modelValue:u(r),"onUpdate:modelValue":t[0]||(t[0]=c=>D(r)?r.value=c:null)},null,8,["modelValue"])]),_:1})):P("",!0),u(m)?(p(),E("div",$,[n(b,{expand:"block",class:"w-1/2",size:"small",onClick:t[2]||(t[2]=c=>u(g)())},{default:e(()=>[f(" Opuść listę ")]),_:1})])):(p(),d(z,{key:1,members:u(s),onToggleMember:t[1]||(t[1]=c=>x(c))},null,8,["members"])),n(b,{expand:"block",onClick:y,class:"my-6"},{default:e(()=>[f("Aktualizuj listę")]),_:1})]),_:1})]),_:1})}}};export{K as default};
