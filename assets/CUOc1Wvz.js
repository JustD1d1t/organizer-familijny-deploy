import{_ as F,aE as G,L as O,r as y,i as Q,N as u,A as t,Z as Y,t as n,z as a,B as b,x as v,O as e,a2 as Z,aT as $,aU as q,v as r,Q as f,R as I,P as d,S as J,V as K,W as M,a4 as X,ag as oo,a$ as eo,ao as to,Y as no,y as ao,C as so,D as co,al as lo,a1 as io,b0 as ro,ai as po}from"./BtlW2p2z.js";import{_ as _o}from"./CGsgvRh1.js";import{u as uo}from"./t1YM0P7s.js";const go=_=>(so("data-v-101be0ea"),_=_(),co(),_),mo={class:"ion-padding inner-content"},ho={class:"ion-padding",slot:"content"},yo={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},fo={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},Io={key:1,class:"background"},vo=go(()=>v("span",null,"Aktualizacja listy",-1)),ko={__name:"index",setup(_){const{shoppingItems:k}=uo(),C=G(),{handleItem:z}=C,{currentShoppingList:g,isLoading:V}=O(C),m=y("");y(!1);const s=y(""),{openToast:w}=po(),S=Q(()=>[...k.map(c=>c.items.map(h=>({name:h,category:c.category}))).flat().filter(c=>c.name.toLowerCase().includes(s.value.toLowerCase())),{name:s.value.toLowerCase(),category:"bez kateogrii"}]),x=async(l,p)=>{await z(l,p)==="added"?w("Dodano produkt do listy"):w("UsuniÄ™to produkt z listy","danger")},T=l=>{m.value=m.value===l?"":l};return(l,p)=>{const c=J,h=K,A=M,B=X,N=oo,W=lo,D=io,L=_o,P=ro,R=eo,U=to,j=no,E=Y;return n(),u(E,null,{default:t(()=>[a(A,{style:{background:"var(--ion-color-light)"}},{default:t(()=>[a(h,null,{default:t(()=>[a(c,null,{default:t(()=>[b("Listy zakupowe")]),_:1})]),_:1})]),_:1}),a(j,{fullscreen:!0},{default:t(()=>[v("div",mo,[a(N,{lines:"none"},{default:t(()=>[a(B,{label:"Napisz czego szukasz",type:"text",modelValue:e(s),"onUpdate:modelValue":p[0]||(p[0]=o=>Z(s)?s.value=o:null),placeholder:"Szukaj..."},null,8,["modelValue"])]),_:1}),$(a(R,{class:"shopping-accordion-group"},{default:t(()=>[(n(!0),r(I,null,f(e(k),o=>(n(),u(P,{key:o.category,value:o.category},{default:t(()=>[a(D,{slot:"header",color:"light",onClick:()=>T(o.category)},{default:t(()=>[a(W,null,{default:t(()=>[b(ao(o.category),1)]),_:2},1024)]),_:2},1032,["onClick"]),v("div",ho,[e(g)&&o.category===e(m)?(n(),r("div",yo,[(n(!0),r(I,null,f(o.items,i=>(n(),u(L,{key:i,"shopping-item":i,active:e(g).items.some(H=>H.name===i),onClick:()=>x(i,o.category)},null,8,["shopping-item","active","onClick"]))),128))])):d("",!0)])]),_:2},1032,["value"]))),128))]),_:1},512),[[q,e(s).length===0]]),e(s).length?(n(),r("div",fo,[e(S).length?(n(!0),r(I,{key:0},f(e(S),o=>(n(),u(L,{key:o,"shopping-item":o.name,active:e(g).items.some(i=>i.name===o.name),onClick:()=>x(o.name,o.category)},null,8,["shopping-item","active","onClick"]))),128)):d("",!0)])):d("",!0),e(V)?(n(),r("div",Io,[a(U,{name:"lines-sharp"}),vo])):d("",!0)])]),_:1})]),_:1})}}},xo=F(ko,[["__scopeId","data-v-101be0ea"]]);export{xo as default};
