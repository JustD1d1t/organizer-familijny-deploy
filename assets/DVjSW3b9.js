import{_ as E,ar as F,M as G,r as y,i as H,N as _,A as t,a1 as Q,t as o,z as n,B as S,P as a,ag as U,v as s,S as I,R as h,Q as v,a5 as X,V as Y,W as q,X as J,Y as K,ad as O,aM as Z,ab as $,a0 as ee,y as oe,C as te,D as ne,x as ae,aI as se,aN as le}from"./4SDWm5CT.js";import{_ as ce}from"./fG4nFvlN.js";import{u as re}from"./BLpE_4GK.js";const ie=p=>(te("data-v-b3dbd7f3"),p=p(),ne(),p),ue={key:0,class:"ion-padding",slot:"content"},_e={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},pe={key:1,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},de={key:2,class:"background"},me=ie(()=>ae("span",null,"Aktualizacja listy",-1)),ge={__name:"index",setup(p){const{shoppingItems:k}=re(),C=F(),{handlePantryItem:L}=C,{currentPantry:d}=G(C),l=y(""),m=y(""),g=y(!1),V=H(()=>{const r=k.map(i=>i.items.map(f=>({name:f,category:i.category}))).flat();return[{name:l.value.toLowerCase(),category:"bez kateogrii"},...r.filter(i=>i.name.toLowerCase().includes(l.value.toLowerCase()))]}),z=c=>{m.value=m.value===c?"":c},b=async(c,r)=>{g.value=!0,await L(c,r),g.value=!1};return(c,r)=>{const i=X,f=Y,B=q,N=J,w=K,P=O,A=se,x=ce,T=le,W=Z,R=$,D=ee,M=Q;return o(),_(M,null,{default:t(()=>[n(B,null,{default:t(()=>[n(f,null,{default:t(()=>[n(i,null,{default:t(()=>[S("Listy zakupowe")]),_:1})]),_:1})]),_:1}),n(D,{fullscreen:!0},{default:t(()=>[n(P,null,{default:t(()=>[n(w,null,{default:t(()=>[n(N,{label:"Czego szukasz...","label-placement":"floating",ref:"input",type:"text","clear-input":!0,modelValue:a(l),"onUpdate:modelValue":r[0]||(r[0]=e=>U(l)?l.value=e:null),class:"border-b-2 mb-4"},null,8,["modelValue"])]),_:1})]),_:1}),a(l).length<3?(o(),_(W,{key:0,class:"shopping-accordion-group"},{default:t(()=>[(o(!0),s(h,null,I(a(k),e=>(o(),_(T,{key:e.category,value:e.category},{default:t(()=>[n(w,{slot:"header",color:"light",onClick:()=>z(e.category)},{default:t(()=>[n(A,null,{default:t(()=>[S(oe(e.category),1)]),_:2},1024)]),_:2},1032,["onClick"]),a(d).items?(o(),s("div",ue,[e.category===a(m)?(o(),s("div",_e,[(o(!0),s(h,null,I(e.items,u=>(o(),_(x,{key:u,"shopping-item":u,active:a(d).items.some(j=>j.name===u),onClick:()=>b(u,e.category)},null,8,["shopping-item","active","onClick"]))),128))])):v("",!0)])):v("",!0)]),_:2},1032,["value"]))),128))]),_:1})):(o(),s("div",pe,[(o(!0),s(h,null,I(a(V),e=>(o(),_(x,{key:e,"shopping-item":e.name,active:a(d).items.some(u=>u.name===e.name),onClick:()=>b(e.name,e.category)},null,8,["shopping-item","active","onClick"]))),128))])),a(g)?(o(),s("div",de,[n(R,{name:"lines-sharp"}),me])):v("",!0)]),_:1})]),_:1})}}},he=E(ge,[["__scopeId","data-v-b3dbd7f3"]]);export{he as default};
