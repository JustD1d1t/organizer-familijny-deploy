import{az as B,i as k,t as i,v as h,x as g,z as t,A as n,B as S,y,P as e,N as m,a_ as V,Q as b,l as C,ad as A,a0 as j,T as N,Z as E,$ as F,a4 as O,b0 as M,R as W,S as P,M as R,aj as U,u as D,a5 as Q,ac as H,U as Z,a2 as q,V as G,W as J,al as K,am as X,ae as Y,a6 as tt}from"./BClyMcC6.js";import{u as nt}from"./iBkv5e-D.js";const st={class:"flex flex-col py-2 pl-6 pr-2 my-1 bg-white rounded-2xl shadow-2xl"},ot={class:"flex items-center"},et={class:"flex flex-col grow"},it={class:"mr-4"},lt={__name:"single-list-item",props:{shoppingList:{type:Object,default:()=>{}}},setup(s){const l=s,a=B(),{removeShoppingList:r,setCurrentShoppingList:c}=a,_=o=>{C(`/shopping-lists/${o.id}`),c(o)},I=()=>{c(l.shoppingList),C(`/shopping-lists/${l.shoppingList.id}/edit`)},u=k(()=>l.shoppingList.items.filter(o=>o.checked).length),p=k(()=>l.shoppingList.ownerId!==localStorage.getItem("uid")),f=k(()=>{var o;return((o=l.shoppingList.members)==null?void 0:o.map(d=>d.nickname).join(", "))??""});return(o,d)=>{const L=A,x=j,v=N,w=E,$=F,z=O,T=M;return i(),h("div",st,[g("div",ot,[g("div",et,[t(L,{class:"flex-grow font-bold",onClick:d[0]||(d[0]=()=>_(s.shoppingList))},{default:n(()=>[S(y(s.shoppingList.name),1)]),_:1}),g("div",null,[g("span",it,y(e(u))+" / "+y(s.shoppingList.items.length),1),g("span",null,y(e(f)),1)])]),e(p)?b("",!0):(i(),m(v,{key:0,id:"open-shopping-menu-"+s.shoppingList.id,class:"ml-auto",size:"small",type:"tertiary"},{default:n(()=>[t(x,{size:"medium",icon:"ioniconsEllipsisVerticalOutline"in o?o.ioniconsEllipsisVerticalOutline:e(V)},null,8,["icon"])]),_:1},8,["id"])),t(T,{trigger:"open-shopping-menu-"+s.shoppingList.id,"trigger-action":"click",side:"bottom",alignment:"center","dismiss-on-select":!0},{default:n(()=>[t(z,{class:"ion-padding mr-8"},{default:n(()=>[t($,null,{default:n(()=>[t(w,{onClick:I},{default:n(()=>[t(L,null,{default:n(()=>[S("Edytuj")]),_:1})]),_:1}),t(w,{onClick:d[1]||(d[1]=Lt=>e(r)(s.shoppingList.id))},{default:n(()=>[t(L,null,{default:n(()=>[S("Usuń")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["trigger"])])])}}},at={class:"flex flex-col"},ct={__name:"items",props:{shoppingLists:{type:Object,default:()=>{}}},setup(s){return(l,a)=>{const r=lt;return i(),h("div",at,[(i(!0),h(W,null,P(s.shoppingLists,c=>(i(),m(r,{key:c.name,shoppingList:c},null,8,["shoppingList"]))),128))])}}},pt={key:0,class:"w-full"},rt={key:0,class:"col-span-2 text-center"},_t={__name:"lists-container",props:{title:{type:String,default:()=>{}},shoppingLists:{type:Object,default:()=>{}}},setup(s){return(l,a)=>{const r=ct;return s.shoppingLists.length?(i(),h("div",pt,[s.title?(i(),h("h2",rt,y(s.title),1)):b("",!0),t(r,{shoppingLists:s.shoppingLists},null,8,["shoppingLists"])])):b("",!0)}}},ut={key:0,class:"w-full flex justify-center items-center h-full"},dt={key:1},ht={key:1,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},gt=g("h2",{class:"col-span-2 text-center"},"Nie posiadasz swoich list",-1),mt=[gt],ft={__name:"lists",setup(s){const l=B(),{shoppingLists:a,isLoading:r,collaboratedShoppingLists:c}=R(l),_=k(()=>a.value.filter(u=>{var p;return(p=u.members)==null?void 0:p.length})),I=k(()=>a.value.filter(u=>{var p;return!((p=u.members)!=null&&p.length)}));return(u,p)=>{const f=U,o=_t;return e(r)?(i(),h("div",ut,[t(f,{name:"lines-sharp"})])):(i(),h("div",dt,[e(a).length?(i(),m(o,{key:0,title:"Twoje listy zakupowe",shoppingLists:e(I)},null,8,["shoppingLists"])):(i(),h("div",ht,mt)),e(a).length&&e(_).length?(i(),m(o,{key:2,title:"Współdzielone listy zakupowe",shoppingLists:e(_)},null,8,["shoppingLists"])):b("",!0),e(c).length?(i(),m(o,{key:3,title:"Listy do których zostałeś zaproszony",shoppingLists:e(c)},null,8,["shoppingLists"])):b("",!0)]))}}},bt={__name:"index",setup(s){const l=D(),a=()=>{l.push("/shopping-lists/new")},r=B(),{getAllShoppingLists:c}=r;return nt(async()=>{await c()},"$SFyjIVUp0Q"),(_,I)=>{const u=H,p=Z,f=q,o=G,d=J,L=ft,x=j,v=K,w=X,$=O,z=Q;return i(),m(z,null,{default:n(()=>[t(d,null,{default:n(()=>[t(o,null,{default:n(()=>[t(p,{slot:"start"},{default:n(()=>[t(u,{text:"",icon:"ioniconsArrowBackOutline"in _?_.ioniconsArrowBackOutline:e(Y)},null,8,["icon"])]),_:1}),t(f,null,{default:n(()=>[S("Listy zakupowe")]),_:1})]),_:1})]),_:1}),t($,{fullscreen:!0},{default:n(()=>[t(L),t(w,{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:n(()=>[t(v,{onClick:a},{default:n(()=>[t(x,{icon:"ioniconsAdd"in _?_.ioniconsAdd:e(tt)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{bt as default};
