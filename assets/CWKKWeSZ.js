import{aq as z,i as k,t as i,v as h,x as g,z as t,A as n,B as S,y as b,P as e,N as m,Q as y,l as C,aI as j,a8 as O,T as A,Y as N,ad as E,a0 as T,aO as F,R as M,S as W,M as P,ab as R,u as U,a1 as D,a6 as Q,U as q,a5 as H,V as Y,W as G,ae as J,af as K}from"./4SDWm5CT.js";import{h as X,a as Z,d as tt}from"./CQt0DnLH.js";import{u as nt}from"./aijqZS17.js";const st={class:"flex flex-col py-2 pl-6 pr-2 my-1 bg-white rounded-2xl shadow-2xl"},ot={class:"flex items-center"},et={class:"flex flex-col grow"},it={class:"mr-4"},lt={__name:"single-list-item",props:{shoppingList:{type:Object,default:()=>{}}},setup(s){const l=s,a=z(),{removeShoppingList:r,setCurrentShoppingList:c}=a,u=o=>{C(`/shopping-lists/${o.id}`),c(o)},I=()=>{c(l.shoppingList),C(`/shopping-lists/${l.shoppingList.id}/edit`)},_=k(()=>l.shoppingList.items.filter(o=>o.checked).length),p=k(()=>l.shoppingList.ownerId!==localStorage.getItem("uid")),f=k(()=>{var o;return((o=l.shoppingList.members)==null?void 0:o.map(d=>d.nickname).join(", "))??""});return(o,d)=>{const L=j,x=O,v=A,w=N,$=E,B=T,V=F;return i(),h("div",st,[g("div",ot,[g("div",et,[t(L,{class:"flex-grow font-bold",onClick:d[0]||(d[0]=()=>u(s.shoppingList))},{default:n(()=>[S(b(s.shoppingList.name),1)]),_:1}),g("div",null,[g("span",it,b(e(_))+" / "+b(s.shoppingList.items.length),1),g("span",null,b(e(f)),1)])]),e(p)?y("",!0):(i(),m(v,{key:0,fill:"clear",id:"open-shopping-menu-"+s.shoppingList.id,class:"ml-auto",size:"small"},{default:n(()=>[t(x,{size:"medium",icon:"ioniconsEllipsisVerticalOutline"in o?o.ioniconsEllipsisVerticalOutline:e(X)},null,8,["icon"])]),_:1},8,["id"])),t(V,{trigger:"open-shopping-menu-"+s.shoppingList.id,"trigger-action":"click",side:"bottom",alignment:"center","dismiss-on-select":!0},{default:n(()=>[t(B,{class:"ion-padding mr-8"},{default:n(()=>[t($,null,{default:n(()=>[t(w,{onClick:I},{default:n(()=>[t(L,null,{default:n(()=>[S("Edytuj")]),_:1})]),_:1}),t(w,{onClick:d[1]||(d[1]=Lt=>e(r)(s.shoppingList.id))},{default:n(()=>[t(L,null,{default:n(()=>[S("Usuń")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["trigger"])])])}}},at={class:"flex flex-col"},ct={__name:"items",props:{shoppingLists:{type:Object,default:()=>{}}},setup(s){return(l,a)=>{const r=lt;return i(),h("div",at,[(i(!0),h(M,null,W(s.shoppingLists,c=>(i(),m(r,{key:c.name,shoppingList:c},null,8,["shoppingList"]))),128))])}}},pt={key:0,class:"w-full"},rt={key:0,class:"col-span-2 text-center"},ut={__name:"lists-container",props:{title:{type:String,default:()=>{}},shoppingLists:{type:Object,default:()=>{}}},setup(s){return(l,a)=>{const r=ct;return s.shoppingLists.length?(i(),h("div",pt,[s.title?(i(),h("h2",rt,b(s.title),1)):y("",!0),t(r,{shoppingLists:s.shoppingLists},null,8,["shoppingLists"])])):y("",!0)}}},_t={key:0,class:"w-full flex justify-center items-center h-full"},dt={key:1},ht={key:1,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},gt=g("h2",{class:"col-span-2 text-center"},"Nie posiadasz swoich list",-1),mt=[gt],ft={__name:"lists",setup(s){const l=z(),{shoppingLists:a,isLoading:r,collaboratedShoppingLists:c}=P(l),u=k(()=>a.value.filter(_=>{var p;return(p=_.members)==null?void 0:p.length})),I=k(()=>a.value.filter(_=>{var p;return!((p=_.members)!=null&&p.length)}));return(_,p)=>{const f=R,o=ut;return e(r)?(i(),h("div",_t,[t(f,{name:"lines-sharp"})])):(i(),h("div",dt,[e(a).length?(i(),m(o,{key:0,title:"Twoje listy zakupowe",shoppingLists:e(I)},null,8,["shoppingLists"])):(i(),h("div",ht,mt)),e(a).length&&e(u).length?(i(),m(o,{key:2,title:"Współdzielone listy zakupowe",shoppingLists:e(u)},null,8,["shoppingLists"])):y("",!0),e(c).length?(i(),m(o,{key:3,title:"Listy do których zostałeś zaproszony",shoppingLists:e(c)},null,8,["shoppingLists"])):y("",!0)]))}}},It={__name:"index",setup(s){const l=U(),a=()=>{l.push("/shopping-lists/new")},r=z(),{getAllShoppingLists:c}=r;return nt(async()=>{await c()},"$SFyjIVUp0Q"),(u,I)=>{const _=Q,p=q,f=H,o=Y,d=G,L=ft,x=O,v=J,w=K,$=T,B=D;return i(),m(B,null,{default:n(()=>[t(d,{translucent:!0},{default:n(()=>[t(o,null,{default:n(()=>[t(p,{slot:"start"},{default:n(()=>[t(_,{text:"",icon:"ioniconsArrowBackOutline"in u?u.ioniconsArrowBackOutline:e(Z)},null,8,["icon"])]),_:1}),t(f,null,{default:n(()=>[S("Listy zakupowe")]),_:1})]),_:1})]),_:1}),t($,{fullscreen:!0},{default:n(()=>[t(L),t(w,{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:n(()=>[t(v,{onClick:a},{default:n(()=>[t(x,{icon:"ioniconsAdd"in u?u.ioniconsAdd:e(tt)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{It as default};
