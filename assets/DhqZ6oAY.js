import{u as A,as as O,M as z,r as f,i as R,N as u,A as e,a1 as D,t as i,z as n,P as o,B as _,x as U,y as j,ah as F,Q as k,a7 as H,U as L,a6 as Q,V as W,W as X,X as Y,Y as q,T as E,a0 as G}from"./DQNEkdG3.js";import{_ as J}from"./CZfVaBeJ.js";import{a as K}from"./CQt0DnLH.js";const te={__name:"index",setup(Z){const m=A(),y=localStorage.getItem("uid"),p=O(),{editPantry:I}=p,{currentPantry:a}=z(p),s=f(a.value.name),l=f(a.value.members),v=async()=>{const t={...a.value,name:s.value,members:l.value};await I(t),m.back()},w=t=>{l.value.find(r=>r.id===t.id)?l.value=l.value.filter(r=>r.id!=t.id):l.value.push(t)},d=R(()=>a.value.ownerId!==y),B=async()=>{await leaveList(),m.back()};return(t,c)=>{const r=H,x=L,M=Q,P=W,g=X,V=Y,N=q,S=J,b=E,T=G,h=D;return i(),u(h,null,{default:e(()=>[n(g,null,{default:e(()=>[n(P,null,{default:e(()=>[n(x,{slot:"start"},{default:e(()=>[n(r,{text:"",icon:"ioniconsArrowBackOutline"in t?t.ioniconsArrowBackOutline:o(K)},null,8,["icon"])]),_:1}),n(M,null,{default:e(()=>[_("Spiżarnia")]),_:1})]),_:1})]),_:1}),n(T,{fullscreen:!0},{default:e(()=>[U("h2",null,j(o(s)),1),n(N,null,{default:e(()=>[n(V,{label:"Nazwa spiżarni","label-placement":"floating",ref:"input",type:"text",modelValue:o(s),"onUpdate:modelValue":c[0]||(c[0]=C=>F(s)?s.value=C:null)},null,8,["modelValue"])]),_:1}),o(d)?k("",!0):(i(),u(S,{key:0,members:o(a).members,onToggleMember:w},null,8,["members"])),o(d)?(i(),u(b,{key:1,expand:"block",class:"my-6",onClick:B},{default:e(()=>[_(" Opuść spiżarnię ")]),_:1})):k("",!0),n(b,{expand:"block",onClick:v,class:"my-6"},{default:e(()=>[_("Aktualizuj spiżarnię")]),_:1})]),_:1})]),_:1})}}};export{te as default};
