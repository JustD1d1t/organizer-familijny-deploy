import{u as O,aC as z,M as R,r as b,i as L,N as u,A as e,a5 as U,t as i,z as n,P as l,B as _,aq as j,Q as y,ad as q,U as D,a2 as F,V as H,W as Q,ay as W,Z,$,T as E,a4 as G,af as J}from"./DRa_VBAG.js";import{_ as K}from"./b_PMGHYX.js";const ne={__name:"index",setup(X){const m=O(),I=localStorage.getItem("uid"),d=z(),{editPantry:k}=d,{currentPantry:o}=R(d),c=b(o.value.name),a=b(o.value.members),v=async()=>{const t={...o.value,name:c.value,members:a.value};await k(t),m.back()},w=t=>{a.value.find(s=>s.id===t.id)?a.value=a.value.filter(s=>s.id!=t.id):a.value.push(t)},p=L(()=>o.value.ownerId!==I),B=async()=>{await leaveList(),m.back()};return(t,r)=>{const s=q,g=D,M=F,P=H,x=Q,V=W,C=Z,N=K,T=$,f=E,S=G,h=U;return i(),u(h,null,{default:e(()=>[n(x,{style:{background:"var(--ion-color-light)"}},{default:e(()=>[n(P,null,{default:e(()=>[n(g,{slot:"start"},{default:e(()=>[n(s,{text:"",icon:"ioniconsArrowBackOutline"in t?t.ioniconsArrowBackOutline:l(J)},null,8,["icon"])]),_:1}),n(M,null,{default:e(()=>[_("Spiżarnia")]),_:1})]),_:1})]),_:1}),n(S,{fullscreen:!0},{default:e(()=>[n(T,{lines:"none",class:"mt-4"},{default:e(()=>[n(C,null,{default:e(()=>[n(V,{label:"Nazwa spiżarni","label-placement":"floating",ref:"input",type:"text",modelValue:l(c),"onUpdate:modelValue":r[0]||(r[0]=A=>j(c)?c.value=A:null)},null,8,["modelValue"])]),_:1}),l(p)?y("",!0):(i(),u(N,{key:0,members:l(o).members,onToggleMember:w},null,8,["members"]))]),_:1}),l(p)?(i(),u(f,{key:0,class:"my-6 w-full",onClick:B},{default:e(()=>[_(" Opuść spiżarnię ")]),_:1})):y("",!0),n(f,{onClick:v,class:"my-6 w-full"},{default:e(()=>[_("Aktualizuj spiżarnię")]),_:1})]),_:1})]),_:1})}}};export{ne as default};
