import{am as j,aA as A,an as M,r as c,N as Z,A as a,a1 as $,t as F,z as e,B as s,x as H,P as r,ah as f,l as m,a6 as P,V as R,W as z,ae as D,T as E,aB as O,a0 as W,a3 as h}from"./B5peZbYZ.js";import{_ as q}from"./Deh5vfQ6.js";import{_ as G}from"./Dn0uzmUw.js";const J={class:"flex items-center h-full w-full"},oo={__name:"index",setup(K){const g=j(),{getNotifications:w}=g,{openToast:_}=h(),T=A(),{loginUser:v}=T,V=M(),{getFamilyDetails:b}=V,l=c(""),i=c("");c("");const I=()=>{_("Zalogowano pomyślnie")},p=o=>{_(o,"danger")},k=async()=>{try{const o=await v(l.value,i.value);o.error?p(o.error):(m("/"),await w(),await b(),I())}catch(o){p(o)}};return(o,n)=>{const y=P,B=R,C=z,d=q,N=D,u=E,S=G,x=O,L=W,U=$;return F(),Z(U,null,{default:a(()=>[e(C,null,{default:a(()=>[e(B,null,{default:a(()=>[e(y,null,{default:a(()=>[s("Logowanie")]),_:1})]),_:1})]),_:1}),e(L,{fullscreen:!0},{default:a(()=>[H("div",J,[e(S,{class:"p-8 w-full"},{title:a(()=>[s(" Logowanie ")]),default:a(()=>[e(N,null,{default:a(()=>[e(d,{label:"Email",type:"email",modelValue:r(l),"onUpdate:modelValue":n[0]||(n[0]=t=>f(l)?l.value=t:null)},null,8,["modelValue"]),e(d,{label:"Hasło",type:"password",modelValue:r(i),"onUpdate:modelValue":n[1]||(n[1]=t=>f(i)?i.value=t:null)},null,8,["modelValue"])]),_:1}),e(u,{class:"w-full mt-4",expand:"block",onClick:k},{default:a(()=>[s("Zaloguj")]),_:1}),e(u,{class:"w-full mt-4",expand:"block",fill:"outline",onClick:n[2]||(n[2]=t=>("navigateTo"in o?o.navigateTo:r(m))("/register"))},{default:a(()=>[s("Rejestracja")]),_:1}),e(u,{class:"w-full mt-4",expand:"block",fill:"clear",onClick:n[3]||(n[3]=t=>("navigateTo"in o?o.navigateTo:r(m))("/reset-password"))},{default:a(()=>[s("Zapomniałem hasła")]),_:1})]),_:1})]),e(x,{"is-open":o.isOpen,message:o.toastMessage,duration:2e3},null,8,["is-open","message"])]),_:1})]),_:1})}}};export{oo as default};
