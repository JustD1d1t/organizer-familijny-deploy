import{_ as F,aD as G,M as H,r as f,i as M,O as u,A as t,a6 as O,t as e,z as n,B as S,Q as a,ac as Q,v as s,T as h,S as I,R as k,a3 as U,W as X,X as Y,Y as Z,a0 as $,aZ as q,ak as J,a5 as K,y as oo,C as eo,D as to,x as no,ag as ao,$ as so,a_ as co}from"./BeL7Np4Z.js";import{_ as lo}from"./Jn7FJFjE.js";import{u as ro}from"./BTwHE2uG.js";const io=p=>(eo("data-v-417236dd"),p=p(),to(),p),_o={key:0,class:"ion-padding",slot:"content"},uo={key:0,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},po={key:1,class:"w-full p-2 grid-cols-2 grid auto-rows-max overflow-auto"},mo={key:2,class:"background"},go=io(()=>no("span",null,"Aktualizacja listy",-1)),yo={__name:"index",setup(p){const{shoppingItems:v}=ro(),C=G(),{handlePantryItem:b}=C,{currentPantry:d}=H(C),c=f(""),m=f(""),g=f(!1),z=M(()=>{const r=v.map(i=>i.items.map(y=>({name:y,category:i.category}))).flat();return[{name:c.value.toLowerCase(),category:"bez kateogrii"},...r.filter(i=>i.name.toLowerCase().includes(c.value.toLowerCase()))]}),L=l=>{m.value=m.value===l?"":l},w=async(l,r)=>{g.value=!0,await b(l,r),g.value=!1};return(l,r)=>{const i=U,y=X,V=Y,B=Z,T=$,A=ao,N=so,x=lo,P=co,W=q,D=J,R=K,j=O;return e(),u(j,null,{default:t(()=>[n(V,{style:{background:"var(--ion-color-light)"}},{default:t(()=>[n(y,null,{default:t(()=>[n(i,null,{default:t(()=>[S("Listy zakupowe")]),_:1})]),_:1})]),_:1}),n(R,{fullscreen:!0},{default:t(()=>[n(T,{lines:"none"},{default:t(()=>[n(B,{label:"Napisz czego szukasz",type:"text",modelValue:a(c),"onUpdate:modelValue":r[0]||(r[0]=o=>Q(c)?c.value=o:null),placeholder:"Szukaj..."},null,8,["modelValue"])]),_:1}),a(c).length<3?(e(),u(W,{key:0,class:"shopping-accordion-group"},{default:t(()=>[(e(!0),s(I,null,h(a(v),o=>(e(),u(P,{key:o.category,value:o.category},{default:t(()=>[n(N,{slot:"header",color:"light",onClick:()=>L(o.category)},{default:t(()=>[n(A,null,{default:t(()=>[S(oo(o.category),1)]),_:2},1024)]),_:2},1032,["onClick"]),a(d).items?(e(),s("div",_o,[o.category===a(m)?(e(),s("div",uo,[(e(!0),s(I,null,h(o.items,_=>(e(),u(x,{key:_,"shopping-item":_,active:a(d).items.some(E=>E.name===_),onClick:()=>w(_,o.category)},null,8,["shopping-item","active","onClick"]))),128))])):k("",!0)])):k("",!0)]),_:2},1032,["value"]))),128))]),_:1})):(e(),s("div",po,[(e(!0),s(I,null,h(a(z),o=>(e(),u(x,{key:o,"shopping-item":o.name,active:a(d).items.some(_=>_.name===o.name),onClick:()=>w(o.name,o.category)},null,8,["shopping-item","active","onClick"]))),128))])),a(g)?(e(),s("div",mo,[n(D,{name:"lines-sharp"}),go])):k("",!0)]),_:1})]),_:1})}}},ko=F(yo,[["__scopeId","data-v-417236dd"]]);export{ko as default};
