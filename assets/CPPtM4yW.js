import{u as b,aQ as I,r as d,N as v,A as l,a1 as z,t as A,z as a,B as c,P as V,ag as R,x as T,l as j,a5 as B,V as N,W as E,Y as H,X as M,T as D,a0 as F,aH as L,ao as P}from"./4SDWm5CT.js";const U=T("span",{class:"text-center block"},"lub",-1),W={__name:"index",props:{cancel:{type:Function,default:()=>{}},confirmModal:{type:Function,default:()=>{}}},setup(O){const m=b(),{backendUrl:_}=P(),f=localStorage.getItem("uid"),w=I(),{addRecipe:y}=w,k=d(),t=d(""),h=async s=>{try{return(await L.get(`${_}/html`,{params:{url:s}})).data.data}catch(e){console.error("Error fetching content:",e)}},g=async()=>{const s=await h(t.value),e=document.createElement("html");e.innerHTML=s;let n,o,r=[];t.value.includes("przepisy.pl")?(n=e.querySelector(".title").textContent,o=e.querySelectorAll(".ingredients-list-content-item")):t.value.includes("aniagotuje.pl")?(n=e.querySelector(".article-content h1").textContent,o=e.querySelectorAll(".recipe-ing-list li")):t.value.includes("kwestiasmaku.com")?(n=e.querySelector("h1.przepis").textContent,o=e.querySelectorAll(".field-name-field-skladniki ul li")):t.value.includes("kuchnialidla.pl")?(n=e.querySelector(".lead h1").textContent,o=e.querySelectorAll(".skladniki ul li")):t.value.includes("poprostupycha.com.pl")?(n=e.querySelector("h1.entry-title").textContent,o=e.querySelectorAll(".ingredient")):t.value.includes("aniastarmach.pl")?(n=e.querySelector("h1.recipe-name").textContent,o=e.querySelectorAll(".recipe-what-to-buy ul li")):t.value.includes("doradcasmaku.pl")&&(n=e.querySelector("h1.grid-in-title").textContent,o=e.querySelectorAll(".grid-in-ingredients tbody tr")),o.forEach(u=>{r.push({name:u.textContent})}),await y({name:n,ingredients:r,userId:f}),m.back()},x=()=>{j("/recipes/new/own")};return(s,e)=>{const n=B,o=N,r=E,i=H,u=M,p=D,S=F,q=z;return A(),v(q,null,{default:l(()=>[a(r,null,{default:l(()=>[a(o,null,{default:l(()=>[a(n,null,{default:l(()=>[c("Nowa lista zakupowa")]),_:1})]),_:1})]),_:1}),a(S,{fullscreen:!0},{default:l(()=>[a(i,null,{default:l(()=>[c(" Możesz dodawać przepisy ze stron: www.przepisy.pl, www.aniagotuje.pl, www.kwestiasmaku.com, www.kuchnialidla.pl, www.poprostupycha.com.pl, www.aniastarmach.pl, www.doradcasmaku.pl ")]),_:1}),a(i,null,{default:l(()=>[a(u,{label:"Adres strony","label-placement":"floating",ref_key:"input",ref:k,type:"text",modelValue:V(t),"onUpdate:modelValue":e[0]||(e[0]=C=>R(t)?t.value=C:null)},null,8,["modelValue"])]),_:1}),a(p,{expand:"block",onClick:g,class:"my-6"},{default:l(()=>[c("Dodaj przepis")]),_:1}),U,a(p,{expand:"block",onClick:x,class:"my-6"},{default:l(()=>[c("Dodaj swój przepis")]),_:1})]),_:1})]),_:1})}}};export{W as default};
