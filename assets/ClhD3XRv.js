import{_ as M,aM as O,M as U,aP as V,r as D,i as P,o as R,N as h,A as e,aQ as q,a5 as G,t as _,z as o,P as w,B as u,aS as v,aT as k,x as d,v as H,S as W,R as Z,aU as F,ad as Q,U as J,a2 as K,V as X,W as Y,ak as ee,$ as oe,a4 as te,af as ne,y as ae,C as se,D as re,az as ce,l as le,ae as pe,T as ie,Z as _e}from"./DRa_VBAG.js";import{_ as ue,S as de}from"./Ct1yQLQ3.js";const me=a=>(se("data-v-7de16766"),a=a(),re(),a),fe={class:"w-full flex flex-col justify-center items-center h-full"},he=me(()=>d("span",null,"Å‚adowanie gazetek",-1)),we={__name:"index",setup(a){const{backendUrl:S}=ce(),I=O(),{shops:x}=U(I);ue.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.3.136/pdf.worker.min.mjs";const m=q().params.shop,r=V(de.Newspapers,()=>[]),n=D(!1),b=P(()=>x.value[m]),g=async()=>{try{return n.value=!0,(await F.get(`${S}/html`,{params:{url:b.value.url}})).data.data}catch(t){n.value=!1,console.error("Error fetching shops:",t)}},y=async()=>{r.value=[];const t=await g(),s=document.createElement("html");s.innerHTML=t;const c=s.querySelectorAll(".newspapper-footer p"),l=s.querySelectorAll(".newspapper-nav-item.newspapper-nav-download");c.forEach((p,i)=>{r.value.push({title:p.textContent,url:l[i].href})}),n.value=!1},B=t=>{le(`/newspaper/${m}/${t}`)};return R(()=>{y()}),(t,s)=>{const c=Q,l=J,p=K,i=X,N=Y,T=ee,C=pe,j=ie,z=_e,A=oe,E=te,L=G;return _(),h(L,null,{default:e(()=>[o(N,{style:{background:"var(--ion-color-light)"}},{default:e(()=>[o(i,null,{default:e(()=>[o(l,{slot:"start"},{default:e(()=>[o(c,{text:"",icon:"ioniconsArrowBackOutline"in t?t.ioniconsArrowBackOutline:w(ne)},null,8,["icon"])]),_:1}),o(p,null,{default:e(()=>[u("Gazetki")]),_:1})]),_:1})]),_:1}),o(E,null,{default:e(()=>[v(d("div",fe,[o(T,{name:"lines-sharp"}),he],512),[[k,n.value]]),v(d("div",null,[o(A,null,{default:e(()=>[(_(!0),H(Z,null,W(w(r),(f,$)=>(_(),h(z,{key:f.title},{default:e(()=>[o(C,null,{default:e(()=>[u(ae(f.title),1)]),_:2},1024),o(j,{type:"tertiary",onClick:Se=>B($)},{default:e(()=>[u(" Zobacz ")]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})],512),[[k,!n.value]])]),_:1})]),_:1})}}},be=M(we,[["__scopeId","data-v-7de16766"]]);export{be as default};
