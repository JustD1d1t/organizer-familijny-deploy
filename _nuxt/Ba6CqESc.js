import{u as O,au as z,M as R,r as b,i as j,N as c,A as e,a1 as L,t as i,z as n,P as l,B as _,ah as U,Q as I,a7 as D,U as F,a6 as H,V as Q,W,X,Y,ae as q,aj as E,a0 as G}from"./B4ggqkCG.js";import{_ as J}from"./PzQkjnDX.js";import{a as K}from"./CHVAF33P.js";const te={__name:"index",setup(Z){const m=O(),k=localStorage.getItem("uid"),p=z(),{editPantry:y}=p,{currentPantry:o}=R(p),r=b(o.value.name),a=b(o.value.members),v=async()=>{const t={...o.value,name:r.value,members:a.value};await y(t),m.back()},w=t=>{a.value.find(s=>s.id===t.id)?a.value=a.value.filter(s=>s.id!=t.id):a.value.push(t)},d=j(()=>o.value.ownerId!==k),B=async()=>{await leaveList(),m.back()};return(t,u)=>{const s=D,g=F,M=H,P=Q,x=W,V=X,N=Y,h=J,C=q,f=E,S=G,T=L;return i(),c(T,null,{default:e(()=>[n(x,{style:{background:"var(--ion-color-light)"}},{default:e(()=>[n(P,null,{default:e(()=>[n(g,{slot:"start"},{default:e(()=>[n(s,{text:"",icon:"ioniconsArrowBackOutline"in t?t.ioniconsArrowBackOutline:l(K)},null,8,["icon"])]),_:1}),n(M,null,{default:e(()=>[_("Spiżarnia")]),_:1})]),_:1})]),_:1}),n(S,{fullscreen:!0},{default:e(()=>[n(C,{lines:"none",class:"mt-4"},{default:e(()=>[n(N,null,{default:e(()=>[n(V,{label:"Nazwa spiżarni","label-placement":"floating",ref:"input",type:"text",modelValue:l(r),"onUpdate:modelValue":u[0]||(u[0]=A=>U(r)?r.value=A:null)},null,8,["modelValue"])]),_:1}),l(d)?I("",!0):(i(),c(h,{key:0,members:l(o).members,onToggleMember:w},null,8,["members"]))]),_:1}),l(d)?(i(),c(f,{key:0,class:"my-6 w-full",onClick:B},{default:e(()=>[_(" Opuść spiżarnię ")]),_:1})):I("",!0),n(f,{onClick:v,class:"my-6 w-full"},{default:e(()=>[_("Aktualizuj spiżarnię")]),_:1})]),_:1})]),_:1})}}};export{te as default};
