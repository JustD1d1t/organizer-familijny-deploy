import{_ as V,aB as $,M as D,aE as H,r as M,i as R,o as U,N as h,A as e,aF as q,a1 as F,t as u,z as o,P as w,B as _,aH as v,aI as k,x as d,v as G,S as P,R as W,aJ as J,a7 as K,U as Y,a6 as Z,V as Q,W as X,ac as ee,ae as oe,a0 as te,y as ae,C as ne,D as se,ar as re,l as le,aK as ce,T as pe,Y as ie}from"./B4ggqkCG.js";import{a as ue}from"./CHVAF33P.js";import{_ as _e,S as de}from"./ahBG0twA.js";const me=n=>(ne("data-v-3e983aa5"),n=n(),se(),n),fe={class:"w-full flex flex-col justify-center items-center h-full"},he=me(()=>d("span",null,"Å‚adowanie gazetek",-1)),we={__name:"index",setup(n){const{backendUrl:I}=re(),S=$(),{shops:b}=D(S);_e.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.3.136/pdf.worker.min.mjs";const m=q().params.shop,r=H(de.Newspapers,()=>[]),a=M(!1),g=R(()=>b.value[m]),x=async()=>{try{return a.value=!0,(await J.get(`${I}/html`,{params:{url:g.value.url}})).data.data}catch(t){a.value=!1,console.error("Error fetching shops:",t)}},B=async()=>{r.value=[];const t=await x(),s=document.createElement("html");s.innerHTML=t;const l=s.querySelectorAll(".newspapper-footer p"),c=s.querySelectorAll(".newspapper-nav-item.newspapper-nav-download");l.forEach((p,i)=>{r.value.push({title:p.textContent,url:c[i].href})}),a.value=!1},y=t=>{le(`/newspaper/${m}/${t}`)};return U(()=>{B()}),(t,s)=>{const l=K,c=Y,p=Z,i=Q,N=X,T=ee,C=ce,E=pe,j=ie,A=oe,L=te,z=F;return u(),h(z,null,{default:e(()=>[o(N,{style:{background:"var(--ion-color-light)"}},{default:e(()=>[o(i,null,{default:e(()=>[o(c,{slot:"start"},{default:e(()=>[o(l,{text:"",icon:"ioniconsArrowBackOutline"in t?t.ioniconsArrowBackOutline:w(ue)},null,8,["icon"])]),_:1}),o(p,null,{default:e(()=>[_("Gazetki")]),_:1})]),_:1})]),_:1}),o(L,null,{default:e(()=>[v(d("div",fe,[o(T,{name:"lines-sharp"}),he],512),[[k,a.value]]),v(d("div",null,[o(A,null,{default:e(()=>[(u(!0),G(W,null,P(w(r),(f,O)=>(u(),h(j,{key:f.title},{default:e(()=>[o(C,null,{default:e(()=>[_(ae(f.title),1)]),_:2},1024),o(E,{onClick:Ie=>y(O),fill:"clear"},{default:e(()=>[_(" Zobacz ")]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})],512),[[k,!a.value]])]),_:1})]),_:1})}}},xe=V(we,[["__scopeId","data-v-3e983aa5"]]);export{xe as default};
